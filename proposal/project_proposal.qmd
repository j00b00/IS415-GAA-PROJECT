---
title: "Project Proposal: CrimeWatch"
format:
  html:
    code-fold: true
    code-summary: "Show the code"

execute: 
  eval: true
  echo: true
  warning: false
date: "`r Sys.Date()`"
---

```{r}
#| echo: false
pacman::p_load(knitr)
```

# THEME: GEOGRAPHIC SEGMENTATION

# 1 ABSTRACT

This project involves conducting Geographical Segmentation with Spatially Constrained Clustering Techniques using the Provincial Competitiveness Index of Vietnam. Specifically, we will analyse the “law and order” dataset to segment the various province in Vietnam. The goal of the project is to create a web application that aims to aid users in performing exploratory data analysis, hierarchy cluster analysis, spatially constrained clustering and spatially contained clustering.

The web application users can effortlessly analyse the data without needing any technical knowledge or expertise in data wrangling, allowing them to make useful insights from their findings.

# 2 Problem & Motivation

The legal system of Vietnam is based on the socialism legal theory and inherited from French civil law system. However, data shows that the enforcement of these laws and regulations can differ depending on the province. This sparked our interest to investigate the reason behind this phenomenon by using clustering methods to visualise patterns within the provinces.

Geospatial analytics in R allows us to manipulate and analyse data visually so that we can uncover patterns that may otherwise go unnoticed. However, geospatial analytics requires users to be experienced and seasoned in finding data on the internet and it can be tedious to wrangle with the data to the right format for processing. This interactive web application allows users to carry out analysis simply through interacting with the user interface so that even business users can operate. By providing an interactive consolidated platform for users to view data and corresponding analyses, we make the data easily accessible while still allowing for customization through the user interface.

# 3 Project Objectives

1.  Conduct exploratory data analysis, correlation analysis and plot maps for preliminary analysis

2.  Conduct hierarchy cluster analysis

3.  Conduct spatially constrained clustering: SKATER approach

4.  Conduct spatially contained clustering: ClustGeo method

# 4 Data Sets and Descriptions

```{r}
#| echo: false
df <- data.frame(
  Data = c("Vietnam Subnational Administrative Boundary", "Vietnam PCI indicator"),
  Type = c(".shp",".csv"),
  "Description / Remarks" = c("The administrative boundary consists of 3 levels. 0- country level, 1- Province level, 2- district.", "PCI indicator consists of different factors that help gauge the performance of provinces. The site offers yearly PCI data."), Source = c("https://data.humdata.org/dataset/cod-ab-vnm?", "https://pcivietnam.vn/en/pci-data")
)

knitr::kable(df)
```

# 5 Data Preparation and Diagram flow

```{r}
#| echo: false
knitr::include_graphics("img/data_preparation_and_diagram_flow.png")

```

# 6 Literature Review

## **Title: Delineating Social Area Analysis using Geographic Segmentation Approach**

**Source:** <https://rpubs.com/YuMengTing/618944>

**Summary:** Social area analysis (SAA), which is a generic name for a number of methods employing census and other data to classify small areas into similar socioeconomic groups, is an approach which quantifies data in a useful fashion and has important applications in regional development, urban planning, medical and health services research. The potentialities of the approach for Liveable City planning and Smart City preparedness, however, have yet to be explored.

```{r}
#| echo: false
knitr::include_graphics("img/fig_1.jpg")
```

**Learning points:** The initial stages of data preparation have to be done very meticulously as we want to avoid misrepresentation. For skater analysis, when plotting spatially constrained clusters (Figure 1), it will be better to accompany it with a choropleth map to aid visualization of clusters.

## **Title: An R package for hierarchical clustering with spatial constraints**

**Source**: <https://arxiv.org/pdf/1707.03897.pdf>

**Summary:** In this paper, the authors propose a ward-like hierarchical clustering algorithm including spatial constraints. The dissimilarities can be non-euclidean and the weights of the observations can be non uniform.

**Learning points:** When trying to carry out Hierarchical clustering, we need to have a dissimilarity matrix D of class dist. It is important for us to alter or transform our matrix to an appropriate data type for the function to work properly. The highlight of the paper is the calculation and algorithms used to do clustering.

## **Title: Cluster Analysis and Segmentation**

**Source:** [https://inseaddataanalytics.github.io/INSEADAnalytics/](https://inseaddataanalytics.github.io/INSEADAnalytics/CourseSessions/Sessions45/ClusterAnalysisReading.html#step_8:_robustness_analysis){.uri}

[CourseSessions/Sessions45/ClusterAnalysisReading.html#step_8:\_robustness_analysis](https://inseaddataanalytics.github.io/INSEADAnalytics/CourseSessions/Sessions45/ClusterAnalysisReading.html#step_8:_robustness_analysis){.uri}

**Summary:** In Data Analytics we often have very large data (many observations - “rows in a flat file”), which are however similar to each other hence we may want to organize them in a few clusters with similar observations within each cluster. For example, in the case of customer data, even though we may have data from millions of customers, these customers may only belong to a few segments: customers are similar within each segment but different across segments. We may often want to analyze each segment separately, as they may behave differently.

**Learning points:** Much like any data analysis, segmentation is an iterative process with many variations of data, methods, number of clusters, and profiles generated until a satisfying solution is reached. The paper discusses examples on how to test the statistical robustness and stability of interpretation of clusters found using 2 different approaches.

# 7 Methodology

## 7.1 Data Preparation

-   Data sources from online platforms

-   Importing spatial data into the R environment

-   Data wrangling

## 7.2 Exploratory Data Analysis

-   Plotting up graphs for visualization and better understanding of the data

    -   Histogram - identify the overall distribution of data value

    -   Box-plot - detect outliers

    -   Choropleth Map - Visualize the distribution on a province-level

## 7.3 Hierarchy Cluster Analysis - Jordan

-   Data Standardization (if necessary)

-   Generate Cluster Dendrogram

-   Gap Statistic Method

-   Generate cluster heatmap

## 7.4 Spatially Constrained Clustering: SKATER approach - Ebenezer

-   Getting the Neighbor List

-   Compute minimum spanning tree

-   Generate neighbors map

## 7.5 Spatially Constrained Clustering: CLUSTGEO method - Aloysius

-   Generate Ward-like hierarchical clustering

-   Generate Choropleth Map

# 8 Storyboard

## 8.1 About Page

```{r}
#| echo: false
knitr::include_graphics("img/about_page.jpg")
```

## 8.2 EDA Page

```{r}
#| echo: false
knitr::include_graphics("img/eda_page.jpg")
```

## 8.3 Hierarchy Clustering Page

```{r}
#| echo: false
knitr::include_graphics("img/hierarchy_cluster.jpg")
```

## 8.4 Spatially Constrained Clustering: SKATER approach Page

```{r}
#| echo: false
knitr::include_graphics("img/skater_method.jpg")

```

## 8.5 Spatially Constrained Clustering: ClustGeo Method Page

```{r}
#| echo: false
knitr::include_graphics("img/clustgeo_method.jpg")

```

# 9 Application architecture

```{r}
#| echo: false
knitr::include_graphics("img/application_architecture.jpg")
```

# 10 Project timeline

```{r}
#| echo: false
knitr::include_graphics("img/project_timeline.jpg")
```
